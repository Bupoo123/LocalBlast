# LocalBlast 分发指南

本指南帮助您将LocalBlast工具打包分发给同事使用。

## 📦 打包步骤

### 在Windows系统上打包

1. **运行打包脚本**
   - 双击运行 `create_windows_package.bat`
   - 脚本会自动创建一个包含所有必要文件的文件夹

2. **压缩打包**
   - 将生成的 `LocalBlast_Windows_YYYYMMDD` 文件夹压缩成ZIP文件
   - 文件名建议：`LocalBlast_Windows_v1.0.zip`

3. **分发**
   - 通过邮件、网盘或内部文件服务器分发给同事
   - 建议同时发送安装说明

## 📋 打包内容

打包后的文件夹包含：
- ✅ `blast_app.py` - 主程序
- ✅ `species_db.json` - 物种数据库
- ✅ `requirements.txt` - Python依赖列表
- ✅ `templates/` - HTML模板文件夹
- ✅ `install_windows.bat` - 自动安装脚本
- ✅ `start_windows.bat` - 启动脚本
- ✅ `WINDOWS_INSTALL.md` - 详细安装说明
- ✅ `README.md` - 项目说明
- ✅ `inputexample/` - 示例文件（可选）

## 📝 给同事的安装说明

### 前置要求

同事需要先安装以下软件（只需安装一次）：

1. **Python 3.7+**
   - 下载地址：https://www.python.org/downloads/
   - **重要**：安装时务必勾选 "Add Python to PATH"

2. **BLAST+工具**
   - 下载地址：https://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/LATEST/
   - 下载Windows版本（如：`ncbi-blast-*-win64.exe`）
   - **重要**：安装时选择 "Add to PATH"

### 安装步骤

1. **解压文件**
   - 将ZIP文件解压到任意文件夹（如：`C:\LocalBlast`）

2. **运行安装脚本**
   - 双击运行 `install_windows.bat`
   - 脚本会自动检查环境并安装Python依赖
   - 如果提示缺少Python或BLAST+，请先安装上述软件

3. **启动程序**
   - 双击运行 `start_windows.bat`
   - 等待看到 "服务地址: http://localhost:5001" 提示
   - 在浏览器中打开 http://localhost:5001

## 🎯 简化版分发（推荐）

如果您的同事IT基础较弱，建议：

1. **创建一键安装包**
   - 将Python和BLAST+的安装程序也一起打包
   - 创建详细的图文安装教程

2. **提供远程协助**
   - 第一次安装时可以通过远程桌面协助
   - 确保Python和BLAST+正确添加到PATH

3. **创建桌面快捷方式**
   - 安装完成后，可以创建 `start_windows.bat` 的快捷方式到桌面
   - 重命名为"启动LocalBlast"

## 🔄 更新分发

如果程序有更新：

1. 运行 `create_windows_package.bat` 创建新版本
2. 更新版本号（在文件夹名或ZIP文件名中）
3. 通知同事更新
4. 建议保留旧版本，以防回退

## 📧 分发邮件模板

```
主题：LocalBlast工具安装包

各位同事：

附件是LocalBlast序列比对工具的Windows安装包。

安装步骤：
1. 解压附件中的ZIP文件
2. 确保已安装Python 3.7+（如未安装，请从 https://www.python.org/downloads/ 下载）
3. 确保已安装BLAST+（如未安装，请从 https://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/LATEST/ 下载）
4. 双击运行解压文件夹中的 install_windows.bat
5. 安装完成后，双击运行 start_windows.bat 启动程序
6. 在浏览器中访问 http://localhost:5001

详细安装说明请查看文件夹中的 WINDOWS_INSTALL.md

如有问题，请联系我。

谢谢！
```

## ⚠️ 注意事项

1. **PATH环境变量**
   - Python和BLAST+必须添加到系统PATH
   - 这是最常见的安装问题

2. **防火墙**
   - 程序运行在本地5001端口
   - 如果防火墙提示，请允许访问

3. **杀毒软件**
   - 某些杀毒软件可能误报.bat文件
   - 如遇此情况，请添加信任

4. **端口占用**
   - 如果5001端口被占用，可以修改 `blast_app.py` 中的端口号

## 🆘 技术支持

如果同事遇到问题：
1. 查看 `WINDOWS_INSTALL.md` 中的常见问题部分
2. 检查Python和BLAST+是否正确安装
3. 查看启动脚本输出的错误信息
4. 联系您获取帮助

